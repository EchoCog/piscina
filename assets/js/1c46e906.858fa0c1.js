"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6697],{5552:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>o,contentTitle:()=>d,default:()=>a,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var t=s(4848),n=s(8453);const i={id:"API Overview",sidebar_position:1},d=void 0,c={id:"api-reference/API Overview",title:"API Overview",description:"| API                                                                    | Description                                                                                                                                                                                                                                                                                         |",source:"@site/docs/api-reference/api-overview.md",sourceDirName:"api-reference",slug:"/api-reference/API Overview",permalink:"/piscina/api-reference/API Overview",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"API Overview",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"API Reference",permalink:"/piscina/category/api-reference"},next:{title:"Class",permalink:"/piscina/api-reference/Class"}},o={},l=[];function h(e){const r={a:"a",code:"code",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.R)(),...e.components};return(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"API"}),(0,t.jsx)(r.th,{children:"Description"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsxs)(r.strong,{children:["Class: ",(0,t.jsx)(r.code,{children:"Piscina"})]})}),(0,t.jsxs)(r.td,{children:["This class extends ",(0,t.jsx)(r.a,{href:"https://nodejs.org/api/events.html#events_class_eventemitter",children:(0,t.jsx)(r.code,{children:"EventEmitter"})})," from Node.js."]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsxs)(r.strong,{children:["Constructor: ",(0,t.jsx)(r.code,{children:"new Piscina([options])"})]})}),(0,t.jsxs)(r.td,{children:["Creates a new instance of the ",(0,t.jsx)(r.code,{children:"Piscina"})," class. ",(0,t.jsx)(r.a,{href:"/piscina/api-reference/Class",children:"List of available options"})]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsxs)(r.strong,{children:["Method: ",(0,t.jsx)(r.code,{children:"run(task[, options])"})]})}),(0,t.jsx)(r.td,{children:"Schedules a task to be run on a Worker thread."})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsxs)(r.strong,{children:["Method: ",(0,t.jsx)(r.code,{children:"runTask(task[, transferList][, filename][, abortSignal])"})]})}),(0,t.jsxs)(r.td,{children:[(0,t.jsx)(r.strong,{children:"Deprecated"})," -- Use ",(0,t.jsx)(r.code,{children:"run(task, options)"})," instead."]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsxs)(r.strong,{children:["Method: ",(0,t.jsx)(r.code,{children:"destroy()"})]})}),(0,t.jsxs)(r.td,{children:["Stops all Workers and rejects all ",(0,t.jsx)(r.code,{children:"Promises"})," for pending tasks."]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsxs)(r.strong,{children:["Method: ",(0,t.jsx)(r.code,{children:"close([options])"})]})}),(0,t.jsx)(r.td,{children:"Stops all Workers gracefully."})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsxs)(r.strong,{children:["Event: ",(0,t.jsx)(r.code,{children:"'error'"})]})}),(0,t.jsx)(r.td,{children:"Emitted when uncaught exceptions occur inside Worker threads or unexpected messages are sent from Worker threads."})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsxs)(r.strong,{children:["Event: ",(0,t.jsx)(r.code,{children:"'drain'"})]})}),(0,t.jsxs)(r.td,{children:["Emitted whenever the ",(0,t.jsx)(r.code,{children:"queueSize"})," reaches ",(0,t.jsx)(r.code,{children:"0"}),"."]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsxs)(r.strong,{children:["Event: ",(0,t.jsx)(r.code,{children:"'needsDrain'"})]})}),(0,t.jsx)(r.td,{children:"Triggered once the total capacity of the pool is exceeded by the number of tasks enqueued that are pending execution."})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsxs)(r.strong,{children:["Event: ",(0,t.jsx)(r.code,{children:"'message'"})]})}),(0,t.jsx)(r.td,{children:"Emitted whenever a message is received from a worker thread."})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsxs)(r.strong,{children:["Property: ",(0,t.jsx)(r.code,{children:"completed"})," (readonly)"]})}),(0,t.jsx)(r.td,{children:"The current number of completed tasks."})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsxs)(r.strong,{children:["Property: ",(0,t.jsx)(r.code,{children:"duration"})," (readonly)"]})}),(0,t.jsxs)(r.td,{children:["The length of time (in milliseconds) since this ",(0,t.jsx)(r.code,{children:"Piscina"})," instance was created."]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsxs)(r.strong,{children:["Property: ",(0,t.jsx)(r.code,{children:"options"})," (readonly)"]})}),(0,t.jsx)(r.td,{children:"A copy of the options that are currently being used by this instance."})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsxs)(r.strong,{children:["Property: ",(0,t.jsx)(r.code,{children:"runTime"})," (readonly)"]})}),(0,t.jsx)(r.td,{children:"A histogram summary object summarizing the collected run times of completed tasks."})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsxs)(r.strong,{children:["Property: ",(0,t.jsx)(r.code,{children:"threads"})," (readonly)"]})}),(0,t.jsxs)(r.td,{children:["An Array of the ",(0,t.jsx)(r.code,{children:"Worker"})," instances used by this pool."]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsxs)(r.strong,{children:["Property: ",(0,t.jsx)(r.code,{children:"queueSize"})," (readonly)"]})}),(0,t.jsx)(r.td,{children:"The current number of tasks waiting to be assigned to a Worker thread."})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsxs)(r.strong,{children:["Property: ",(0,t.jsx)(r.code,{children:"needsDrain"})," (readonly)"]})}),(0,t.jsx)(r.td,{children:"Boolean value that specifies whether the capacity of the pool has been exceeded by the number of tasks submitted."})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsxs)(r.strong,{children:["Property: ",(0,t.jsx)(r.code,{children:"utilization"})," (readonly)"]})}),(0,t.jsx)(r.td,{children:"A point-in-time ratio comparing the approximate total mean run time of completed tasks to the total runtime capacity of the pool."})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsxs)(r.strong,{children:["Property: ",(0,t.jsx)(r.code,{children:"waitTime"})," (readonly)"]})}),(0,t.jsx)(r.td,{children:"A histogram summary object summarizing the collected times tasks spent waiting in the queue."})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsxs)(r.strong,{children:["Static Property: ",(0,t.jsx)(r.code,{children:"isWorkerThread"})," (readonly)"]})}),(0,t.jsxs)(r.td,{children:["Is ",(0,t.jsx)(r.code,{children:"true"})," if this code runs inside a ",(0,t.jsx)(r.code,{children:"Piscina"})," threadpool as a Worker."]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsxs)(r.strong,{children:["Static Property: ",(0,t.jsx)(r.code,{children:"version"})," (readonly)"]})}),(0,t.jsx)(r.td,{children:"Provides the current version of this library as a semver string."})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsxs)(r.strong,{children:["Static Method: ",(0,t.jsx)(r.code,{children:"move(value)"})]})}),(0,t.jsxs)(r.td,{children:["By default, any value returned by a worker function will be cloned when returned back to the Piscina pool, even if that object is capable of being transferred. The ",(0,t.jsx)(r.code,{children:"Piscina.move()"})," method can be used to wrap and mark transferable values such that they will be transferred rather than cloned."]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsxs)(r.strong,{children:["Interface: ",(0,t.jsx)(r.code,{children:"Transferable"})]})}),(0,t.jsxs)(r.td,{children:["Objects may implement the ",(0,t.jsx)(r.code,{children:"Transferable"})," interface to create their own custom transferable objects."]})]})]})]})}function a(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453:(e,r,s)=>{s.d(r,{R:()=>d,x:()=>c});var t=s(6540);const n={},i=t.createContext(n);function d(e){const r=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:d(e.components),t.createElement(i.Provider,{value:r},e.children)}}}]);